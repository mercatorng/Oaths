<app-loader *ngIf="loading"></app-loader>
<app-alert></app-alert>
<app-toast></app-toast>
<div class="paper">
  <div class="header">
    <img src={{institution?.logo1}} alt="coat of arms" class="mt-2" />
    <div class="header-title text-center mt-4">
      <h5 class="text-success">
        {{institution?.name}}<br />
        {{institution?.address}}
      </h5>
    </div>
    <img src={{institution?.logo2}} alt="high court logo" class="mt-2" />
  </div>
  <div class="panel text-white text-center">
    <p>affidavit of change name</p>
  </div>

  <div class="declaration">

    <form [formGroup]="nameForm" #form (ngSubmit)="onSubmit(content2)">
      <div class="twins ">
        <p class="twin c3">I</p>
        <input type="text" formControlName="name" placeholder="DORA MARY ANYANYA AKATU" name="name"
          class="lg c9 ml-2" [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
        <p class="twin c3">of</p>
      </div>
      <div *ngIf="(f?.name.dirty && f?.name.invalid) || (submitted && f.name.errors)" class="alert alert-danger">
          <small *ngIf="f?.name.errors.required">Name is required</small>
      </div>
      <div class="twins mt-2">
        <input type="text" formControlName="address" placeholder="no. 15 policia street fha, nyanya, abuja"
          name="address" class="lg c9 ml-2" [ngClass]="{ 'is-invalid': submitted && f.address.errors }" />
        <p class="twin c3">do solemly</p>
      </div>
      <div *ngIf="(f.address.dirty && f.address.invalid) ||(submitted && f.address.errors)"
            class="alert alert-danger">
            <small *ngIf="f.address.errors.required">Address is required</small>
      </div>
      <p class="mt-2">and Sincerely declare:</p>
      <div class="twins mt-2">
        <p class="twin c3">That I was formerly known and called:</p>
        <input type="text" formControlName="formerlyCalled" name="formerlyCalled" placeholder="DORA MARY ANYANYA"
          class="lg c9 ml-2" [ngClass]="{ 'is-invalid': submitted && f.formerlyCalled.errors }"/>
      </div>
      <div *ngIf="(f.formerlyCalled.dirty && f.formerlyCalled.invalid) ||(submitted && f.formerlyCalled.errors)"
            class="alert alert-danger">
            <small *ngIf="f.formerlyCalled.errors.required">Field is required</small>
      </div>

      <div class="twins mt-2">
        <p class="twin c3">Henceforth I wish to be known and called:</p>
        <input type="text" placeholder="DORA MARY ANYANYA AKATU" formControlName="nowCalled" name="nowCalled"
          class="lg c9 ml-2" [ngClass]="{ 'is-invalid': submitted && f.nowCalled.errors }"/>
      </div>
      <div *ngIf="(f.nowCalled.dirty && f.nowCalled.invalid) ||(submitted && f.nowCalled.errors)"
            class="alert alert-danger">
            <small *ngIf="f.nowCalled.errors.required">Field is required</small>
      </div>
      <p class="mt-2">
        That I am making this solemn declaration conscientiously believing same
        to be true and correct in accordance with the Oaths Act of 1968.
      </p>
      <div class="twins">
        <div class="form-inline mr-2">
          <p>Date: <input type="date" formControlName="date" name="date" 
            [ngClass]="{ 'is-invalid': submitted && f.date.errors }"/></p>
        </div>
        <div *ngIf="(f.date.dirty && f.date.invalid) ||(submitted && f.date.errors)"
            class="alert alert-danger">
            <small *ngIf="f.date.errors.required">Date is required</small>
        </div>
        <div class="text-center">
          <input class="signature signature2" />
          <p>Signature of Declarant</p>
        </div>
      </div>
      <div class="twins mt-2">
        <p class="twin c3">Sworn to at the</p>
        <input type="text" formControlName="courtName" name="courtName" placeholder="high court, maitama"
          class="lg c9 ml-2" [ngClass]="{ 'is-invalid': submitted && f.courtName.errors }"/>
        <p class="twin c3">Registry</p>
      </div>
      <div *ngIf="(f.courtName.dirty && f.courtName.invalid) ||(submitted && f.courtName.errors)"
            class="alert alert-danger">
            <small *ngIf="f.courtName.errors.required">Court Name is required</small>
      </div>

      <div class="form-inline mt-2">
        <p>
          This <input type="number" placeholder="5" name="day" formControlName="presentDay"
          [ngClass]="{ 'is-invalid': submitted && f.presentDay.errors }"/> day
          of
          <input type="text" placeholder="Juuly 2019" name="my" class=" mt-1 ml-2 c9" formControlName="presentMonthYear"
          [ngClass]="{ 'is-invalid': submitted && f.presentMonthYear.errors }"/>
        </p>
      </div>
      <div *ngIf="(f.presentDay.dirty && f.presentDay.invalid) ||(submitted && f.presentDay.errors) ||
                  (f.presentMonthYear.dirty && f.presentMonthYear.invalid) ||(submitted && f.presentMonthYear.errors)"
            class="alert alert-danger">
            <small *ngIf="f.presentDay.errors.required || f.presentMonthYear.errors.required">Full Date is required</small>
      </div>
      <p class="mt-2 mb-2">
        The foregoing has been read over and interpreted by the declarant from
      </p>
      <div class="form-inline">
        <p>
          <input type="text" placeholder="language from" name="fromLanguage" formControlName="fromLanguage" 
          [ngClass]="{ 'is-invalid': submitted && f.fromLanguage.errors }"/> Language
          to <input type="text" placeholder="language to" class="mt-2" formControlName="toLanguage" 
          [ngClass]="{ 'is-invalid': submitted && f.toLanguage.errors }"/> Language by
          <input type="text" placeholder="interpreter" formControlName="interpreter" class="mt-2" 
          [ngClass]="{ 'is-invalid': submitted && f.interpreter.errors }"/>
        </p>
      </div>
      <p class="mt-2 mb-2">
        The above has been read to me and I understand same before affixing my
        thumb impression there to.
      </p>

      <div class="d-flex justify-content-end">
        <p class="mt-4">Signature of Interpreter</p>
        <input class="signature signature2" />
      </div>

      <div class="footer mt-4">
        <div>
          <div class="form-inline mt-3 d-none">
            <label for="fees" class="mr-sm-2"><strong>Fees Paid:</strong></label>
            <input type="fees" class="mb-2 mr-sm-2" placeholder="500" />
          </div>
          <div class="form-inline d-none">
            <label for="teller" class="mr-sm-2"><strong>Receipt/Bank Teller No:</strong></label>
            <input type="teller" class="mb-2 mr-sm-2" placeholder="11597697" />
          </div>
        </div>
        <div class="mt-1 ml-3">
          <i><em>Affix Thumb Print Here</em></i>
          <textarea></textarea>
        </div>
      </div>
      <div class="form-inline">
        <label for="date" class="mr-sm-2"><strong>Date:</strong></label>
        <input type="date" class="mb-2 mr-sm-2" formControlName="date" placeholder="08/08/2019" />
      </div>
      <div class="d-flex justify-content-end mt-3">
        <div class="oath text-center mr-2">
          <p>Before Me</p>
        </div>
        <div>
          <input class="signature signature2" />
          <p class="text-capitalize"><strong>Commisioner of Oaths</strong></p>
        </div>
      </div>
      <button class="btn-block mt-4 main" type="submit">Submit</button>
    </form>
  </div>
</div>


<ng-template #content2 let-modal>
    <div *ngIf="response" id="printableArea">
      <div class="modal-body text-center text-uppercase">
          <div class="bg-image"></div>
        <div clas="head-text">
          <h3>High court of justice</h3>
          <h3>Federal capital territory, abuja.</h3>
  
          <h3 class="mt-4 mb-3">payment reference slip</h3>
        </div>
        <div class="text-block">
          <p>affidavit reference number: {{response.affidavitReferenceNumber}}</p>
          <p>affidavit type: {{response.affidavitType}}</p>
          <p>date generated: 16/11/2019</p>
          <p>amount: {{response.fee}}</p>
          <p>payment method: bank branch</p>
          <p>account number: 0118923457</p>
          <p>accout name: high court of justice, fct abuja</p>
          <p>bank: access bank plc</p>
        </div>
      </div>
      <div class="modal-footer">
        <button (click)="onPrint('printableArea')" type="button" class="btn btn-secondary">Print</button>
        <button type="button" class="btn btn-outline-warning" (click)="modal.close('Close click')">Close</button>
      </div>
    </div>
  </ng-template>
